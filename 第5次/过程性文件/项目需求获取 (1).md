# 项目需求获取

[TOC]



## 分析模型

### 游戏销售板块

#### 概念类图 

###### 图要说明的问题：

这张概念类图描述了FANTASTIC GAMES游戏销售板块的整体结构，包含了游戏制作、游戏审核、游戏分类、更新游戏库、制作本土化游戏、宣传游戏制作商、认证游戏制作商、购买游戏、购买MOD、游戏退款、MOD退款、擦航做游戏故事、认证故事创作者、评价游戏，MOD内容、参与众筹、发布众筹、审核众筹项目、上传游戏MOD、投诉游戏内容、投诉MOD内容、分类MOD、审核MOD二十三个用例中所涉及的所有概念类。

由于页面大小限制，该概念类图依据用例的主体被拆分成会员服务的子图1、子图2和子图3

子图1为用户

子图2为管理员

子图3为翻译组、管理员、游戏制作商

###### 图本身：

子图1：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%94%A8%E6%88%B7%E8%A7%92%E5%BA%A6.png)

子图2：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%AE%A1%E7%90%86%E5%91%98%E8%A7%92%E5%BA%A6.png)

子图3：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/%E9%9C%80%E6%B1%82/%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C%E5%95%86%E3%80%81%E6%95%85%E4%BA%8B%E5%88%9B%E4%BD%9C%E8%80%85%E3%80%81%E7%BF%BB%E8%AF%91%E7%BB%84%E8%A7%92%E5%BA%A6.png)

###### OCL语言 

针对游戏退款： 

{context GameRefund

inv: PostFrequency<5次/分

inv: OwnTime<1周

inv: PlayTime<2小时

pre validApproved: UserValid=true 

post MinusGamelist: 

GameNum=GameNum@pre-1  } 

针对MOD退款： 

{context MODRefund

inv: PostFrequency<5次/分

inv: OwnTime<1周

inv: PlayTime<2小时

pre validApproved: UserValid=true 

post MinusMODlist: 

MODNum=MODNum@pre-1  } 

针对评价游戏、MOD内容： 

{context Comment

inv: textNum>0 and textNum<50 

inv: PostFrequency<5次/秒

pre validApproved: UserValid=true 

post AddTolist: 

CommentNum=CommentNum@pre+1  } 

针对宣传游戏制作商： 

{context Propaganda

inv: textNum>0 and textNum<25

pre validApproved: UserValid=true   } 

###### 图的简要介绍与内部需要注意的问题 ：

概念类图中各个概念类以及它们之间的关联和重要属性已经明确在图中标出。

OCL约束：

（1）用户游戏退款的频率不得超过5次/分，如果游戏游玩时间超过2小时或者游戏购买时间超过一周不允许退款，退款成功后，用户游戏仓库应动态更新

（2）用户MOD退款的频率不得超过5次/分，如果MOD游玩时间超过2小时或者MOD购买时间超过一周不允许退款，退款成功后，用户MOD仓库应动态更新

（3）用户评价游戏、MOD内容字数范围大于0小于50，评价频率不得高于5次每秒，发布成功后，用户评价内容需要对应动态更新

（4）管理员宣传游戏制作商内容字数范围大于0小于25，评价频率不得高于5次每秒

#### 1.游戏制作

##### 顺序图：

###### 图要说明的问题：

该图描述了游戏制作的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/xvqiu/1.png)

###### OCL约束： 

操作： 

游戏制作 GameMade(UserId, Content，StoryId)

引用： 

制作系统

前置条件：

有一个待上传的游戏实例t1存在 

有一个游戏仓库t3存在

UserId未处在封禁账户区间内

UserId可以和某个游戏制作商实例建立联系

StoryId可以和某个故事实例建立联系

t3和UserId建立了关联

后置条件: 

创建了一个游戏实例t2

t2和t3建立了关联

t2.UserId被置为参数UserId

t2.Content被置为参数Content

t2.StoryId被置为参数StoryId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象游戏制作商、故事列表、开发者游戏仓库

游戏制作商点击选择故事以后确定游戏故事主题，在开发者游戏仓库新建项目，然后开始上传游戏内容。

开发者选择游戏背景故事和上传游戏开发进度的过程可以反复迭代。

##### 状态图：

###### 图要说明的问题：

该图描述了游戏制作的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/xvqiu/2.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，游戏开发商首先选择需要的游戏故事背景，系统展示已有的故事可选列表，开发商在选定以后开始开发游戏内容，将开发完成的部分上传至开发者仓库，直至游戏开发结束，进程结束。

故事背景选定和开发游戏内容上传过程可重复进行。

#### 2.游戏审核

##### 顺序图：

###### 图要说明的问题：

该图描述了游戏审核的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/3.png)

###### OCL约束： 

操作： 

游戏审核 GameExamine(UserId, GameId)

引用： 

销售系统

前置条件：

有一个待审核的游戏实例t1存在 

有一个审核游戏队列t3存在

t1和t3建立了关联

UserId可以和某个游戏制作商实例建立联系

有一个游戏商城游戏列实例t4存在

后置条件: 

创建了一个游戏实例t2

t2和t4建立了关联

t2.UserId被置为参数UserId

t2.GameId被置为参数GameId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象为管理员、待审核游戏列表、游戏商城

管理员对系统发起审核需求，系统从待审核游戏列表中返回一个游戏实例，管理员完成审核。

##### 状态图：

###### 图要说明的问题：

该图描述了游戏审核的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/4.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员开始审核游戏，首先查看待审核游戏队列，选择要审核的游戏，之后系统展示待审核的游戏的具体内容，如果管理员审核通过，则游戏上架商城，进程结束，如果审核不通过，则游戏审核失败，进程结束。

#### 3.游戏分类

##### 顺序图：

###### 图要说明的问题：

该图描述了游戏分类的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/5.png)

###### OCL约束： 

操作： 

游戏分类 GameClassfy(GameId,classfy_rule)

引用： 

销售系统

前置条件：

有一个待分类的游戏实例t1存在 

有一个分类游戏队列t3存在

t1和t3建立了关联

GameId可以和某个游戏实例建立联系

classfy_rule可以和某个分类方法实例建立联系

有一个游戏商城游戏列实例t4存在

后置条件: 

创建了一个游戏实例t2

t2和t4建立了关联

t2.GameId被置为参数GameId

t2.classfy_rule被置为参数classfy_rule

###### 图的简要介绍与内部需要注意的问题：

##### 状态图：

###### 图要说明的问题：

该图描述了游戏分类的详细状态图

图中涉及到的对象为管理员、待分类游戏列表、游戏商城

管理员对系统发起分类需求，系统从待分类游戏列表中返回一个游戏实例，管理员完成分类。

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/6.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员发出分类申请，系统返回待分类游戏列表，管理员选择要分类的某个游戏，设置分类算法，系统预展示分类结果，如果管理员确认，结果更新到商城，分类结束，如果管理员选择取消分类，则分类未成功，进程回到显示具体游戏界面的部分。

#### 4.更新游戏库

##### 顺序图：

###### 图要说明的问题：

该图描述了更新游戏库的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/7.png)

###### OCL约束： 

操作： 

游戏商城更新 GameUpdate(GameId)

引用： 

销售系统

前置条件：

有一个待更新的游戏实例t1存在 

GameId可以和某个游戏实例建立联系

有一个游戏商城游戏列实例t4存在

后置条件: 

创建了一个游戏实例t2

t2和t4建立了关联

t2.GameId被置为参数GameId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含管理员、游戏商城、历史版本

管理员更新游戏到商城，商城新版本备份到系统库，系统返回操作结果。管理员可以选择系统库中的历史版本复原游戏商城，系统返回操作结果。

##### 状态图：

###### 图要说明的问题：

该图描述了更新游戏库的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/8.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员可以选择两个操作中的一个，一是添加新游戏，商城更新，游戏商城当前版本被备份到系统库中，进程结束，二是管理员直接选择历史版本，游戏商城恢复到该版本，进程结束。

#### 5.本土化游戏

##### 顺序图：

###### 图要说明的问题：

该图描述了本土化游戏的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/9.png)

###### OCL约束： 

操作： 

本土化游戏 GameTranslate(GameId)

引用： 

制作系统

前置条件：

有一个待本土化的游戏实例t1存在 

GameId可以和某个游戏实例建立联系

后置条件: 

创建了一个游戏实例t2

t2.GameId被置为参数GameId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含翻译组、待喊话游戏列表、待审核游戏列表

管理员选择要汉化的游戏，系统返回操作结果，管理员完成汉化操作，上传游戏到游戏审核队列，等待审核，系统返回操作结果。

##### 状态图：

###### 图要说明的问题：

该图描述了本土化游戏的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/10.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员开始汉化，系统展示等待本土化的游戏列表，管理员选择游戏，开始汉化，汉化完成，本土化进程结束。

如果在汉化过程中发现游戏问题，汉化结束，进程结束。

#### 6.宣传游戏制作商

##### 顺序图：

###### 图要说明的问题：

该图描述了宣传游戏制作商的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/11.png)

###### OCL约束： 

操作： 

游戏分类 GamePropaganda(GameId，UserId，context)

引用： 

销售系统

前置条件：

有一个待宣传的游戏t1存在 

有一个待宣传的游戏开发商t2存在 

GameId可以和某个游戏实例建立联系

有一个游戏商城游戏列实例t5存在

后置条件: 

创建了一个游戏实例t3

创建了一个游戏开发商实例t4

创建了一个宣传文稿实例

t3和t5建立了关联

t3.GameId被置为参数GameId

t4.UserId被置为参数UserId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含管理员、游戏商城、系统

管理员选择要宣传的游戏、游戏开发商，系统返回操作结果，这个过程可重复。管理员向系统上传宣传文稿，宣传完成。

##### 状态图：

###### 图要说明的问题：

该图描述了宣传游戏制作商的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/12.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员开始宣传进程，系统展示游戏制作商与相关游戏列表，管理员选择游戏和制作商，开始撰写宣传语，撰写完成后想，系统展示宣传效果，进程结束。

#### 7.认证游戏制作商

##### 顺序图：

###### 图要说明的问题：

该图描述了游戏制作商认证的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/13.png)

###### OCL约束： 

操作： 

游戏制作商认证 GamerAuthentication(UserId)

引用： 

制作系统

前置条件：

有一个待认证的用户实例t1存在 

UserId可以和某个游戏开发商实例建立联系

后置条件: 

创建了一个游戏开发商实例t2

t2.UserId被置为参数UserId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含游戏制作商、系统、身份注册列表

游戏制作商申请认证，唤醒系统开启身份认证，系统创建身份注册表并返回，游戏制作商完成认证申请信息，系统返回表单内容，游戏制作商提交完成的申请表单。

##### 状态图：

###### 图要说明的问题：

该图描述了游戏制作商认证的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/14.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，游戏制作商申请认证，系统显示认证表单，游戏制作商填写信息完毕以后，系统显示更新完毕的表单内容，如果表单格式错误，系统报错，进程结束，如果表单内容无误，游戏开发商提交，系统显示提交成功，进程结束。

#### 8.购买游戏

##### 顺序图：

###### 图要说明的问题：

该图描述了购买游戏的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/15.png)

###### OCL约束：

操作： 

购买游戏 BuyGame(UserId,GameId)

引用： 

销售系统

前置条件： 

有一个购买t1存在

有一个游戏列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

UserId可以和某个用户个人游戏列表实例建立联系

后置条件: 

创建了一个游戏实例t3

t3和t2建立了关联

t3.UserId被置为参数UserId

t3.GameId被置为参数GameId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、游戏商城、购物车、订单

用户选择游戏商城中游戏，添加至购物车列表，系统返回购物车列表，用户选择购物车中内容，确认购买，系统生成订单，用户确认，系统返回购买结果。

##### 状态图：

###### 图要说明的问题：

该图描述了购买游戏的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/16.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户开始购买，用户打开游戏商城，用户选择游戏，添加至购物车，系统显示购物车列表，用户选择购物车中游戏，生成订单，用户支付，支付成功，进程结束。

如果游戏添加购物车失败，如出现游戏下架问题，系统报错，进程结束；如果支付未成功，则订单失效，进程结束。

#### 9.购买MOD

##### 顺序图：

###### 图要说明的问题：

该图描述了购买MOD的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/17.png)

###### OCL约束：

操作： 

购买MOD BuyMOD(UserId,MODId)

引用： 

销售系统

前置条件： 

有一个购买t1存在

有一个游戏MOD列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

UserId可以和某个用户个人游戏列表实例建立联系

后置条件: 

创建了一个游戏MOD实例t3

t3和t2建立了关联

t3.UserId被置为参数UserId

t3.MOD被置为参数MOD

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、游戏MOD商城、购物车、订单

用户选择游戏MOD商城中游戏MOD，添加至购物车列表，系统返回购物车列表，用户选择购物车中内容，确认购买，系统生成订单，用户确认，系统返回购买结果。

##### 状态图：

###### 图要说明的问题：

该图描述了购买MOD的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/18.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户开始购买，用户打开MOD商城，用户选择MOD，添加至购物车，系统显示购物车列表，用户选择购物车中MOD，生成订单，用户支付，支付成功，进程结束。

如果游戏添加购物车失败，如出现游戏下架问题，系统报错，进程结束；如果支付未成功，则订单失效，进程结束。

#### 10.游戏退款

##### 顺序图：

###### 图要说明的问题：

该图描述了游戏退款的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/19.png)

###### OCL约束：

操作： 

游戏退款 GameRefund(UserId,GameId)

引用： 

销售系统

前置条件： 

有一个退款t1存在

有一个个人专属游戏列表实例t2存在

t2与t1建立了关联

UserId可以和某个用户个人游戏列表实例建立联系

后置条件: 

删除了一个游戏实例

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、系统、游戏仓库

用户选中游戏，唤醒系统，发出退款申请，系统删除个人库中游戏，系统返回操作结果。

该过程可重复进行。

##### 状态图：

###### 图要说明的问题：

该图描述了游戏退款的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/20.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户打开个人游戏仓库，用户选择游戏，系统生成退款申请，用户确认，退款成功，进程结束。

如果游戏游玩时长或购买时间超过了系统规定时间，系统拒绝退款，进程结束。

#### 11.MOD退款

##### 顺序图：

###### 图要说明的问题：

该图描述了MOD退款的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/21.png)

###### OCL约束：

操作： 

MOD退款 ModRefund(UserId,MODId)

引用： 

销售系统

前置条件： 

有一个退款t1存在

有一个个人专属游戏MOD列表实例t2存在

t2与t1建立了关联

UserId可以和某个用户个人游戏MOD列表实例建立联系

后置条件: 

删除了一个游戏MOD实例

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、系统、MOD仓库

用户选中MOD，唤醒系统，发出退款申请，系统删除个人库中MOD，系统返回操作结果。

该过程可重复进行。

##### 状态图：

###### 图要说明的问题：

该图描述了MOD退款的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/22.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户打开个人游戏仓库，用户选择游戏，系统显示该游戏MOD列表，用户选择MOD，系统生成退款申请，用户确认，退款成功，进程结束。

如果游戏MOD游玩时长或购买时间超过了系统规定时间，系统拒绝退款，进程结束。

#### 12.创作游戏故事

##### 顺序图：

###### 图要说明的问题：

该图描述了创作游戏故事的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/29.png)

###### OCL约束：

操作： 

创作故事 StoryCreate(UserId, Content)

引用： 

创作系统

前置条件： 

有一个待发布的故事t1存在

有一个用户专属故事列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

UserId可以和某个故事列表实例建立联系

后置条件: 

创建了一个故事实例t3

t3和t2建立了关联

t3.UserId被置为参数UserId

t3.Content被置为参数Content

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含故事创作者、系统、身份注册列表

故事创作者创作故事，可以在在平台常驻世界观下创作故事，创作完成后，故事更新到个人故事列表，系统返回操作结果。如果自由创作故事，则会直接更新至个人故事列表，系统返回操作结果。

##### 状态图：

###### 图要说明的问题：

该图描述了创作游戏故事的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/30.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，故事创作者有两个选择，一是选择平台常驻世界体系进行创造，首先选择平台常驻世界体系，之后创作故事，系统显示创作好的故事；二是直接创作故事，不借用平台的媒介，创作故事的过程可重复，创作完成后，进程结束。

如果创作的故事内容不合法规或是不符合平台常驻世界体系下世界观，故事将被建议修改或删除。

#### 13.认证故事创作者

##### 顺序图：

###### 图要说明的问题：

该图描述了认证故事创作者的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/31.png)

###### OCL约束： 

操作： 

故事创作者认证 StoryerAuthentication(UserId)

引用： 

制作系统

前置条件：

有一个待认证的用户实例t1存在 

UserId可以和某个故事创作者实例建立联系

后置条件: 

创建了一个故事会创作者实例t2

t2.UserId被置为参数UserId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含故事创作者、系统、身份注册列表

故事创作者申请认证，唤醒系统开启身份认证，系统创建身份注册表并返回，故事创作者完成认证申请信息，系统返回表单内容，故事创作者提交完成的申请表单。

##### 状态图：

###### 图要说明的问题：

该图描述了认证故事创作者的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/32.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，故事创作者申请认证，系统显示认证表单，故事创作者填写信息完毕以后，系统显示更新完毕的表单内容，如果表单格式错误，系统报错，进程结束，如果表单内容无误，故事创作者提交，系统显示提交成功，进程结束。

#### 14.评价游戏、MOD内容

##### 顺序图：

###### 图要说明的问题：

该图描述了评价游戏、MOD内容的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/33.png)

###### OCL约束： 

操作： 

评论 Comment(UserId，GameId，MODId，Content)

引用： 

销售系统

前置条件：

有一个评论t1存在

UserId可以和某个用户实例建立联系

GameId可以和某个游戏实例建立联系

MODId可以和某个MOD实例建立联系

后置条件: 

创建了一个评论实例t2

t2.UserId被置为参数UserId

t2.GameId被置为参数GamerId

t2.MODId被置为参数MODId

t2.Content被置为参数Content

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户，用户订单列表，评价表单

用户打开订单列表，选择游戏发表评论，系统生成评价表单，用户填写表单提交，系统返回操作结果。

##### 状态图：

###### 图要说明的问题：

该图描述了评价游戏、MOD内容的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/34.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户查案历史订单，系统显示订单列表，用户选择商品评价，系统生成评价。进程结束。

如果评价内容违反法律法规，订单生成失败。

#### 15.参与众筹

##### 顺序图：

###### 图要说明的问题：

该图描述了参与众筹的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/35.png)

###### OCL约束：

操作： 

众筹 Crowd-funding(ProjectId,Money)

引用： 

制作系统

前置条件： 

有一个众筹t1存在

有一个众筹项目列表实例t2存在

t2与t1建立了关联

ProjectId可以与一个项目实例建立联系

后置条件: 

创建了一个项目实例t3

t3和t2建立了关联

t3.ProjectId被置为参数ProjectId

t3.Money被置为参数Money

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户，众筹项目列表，项目，订单

用户打开众筹项目列表，选择项目，选择众筹金额，生成订单，系统返回订单表单，操作结束。

##### 状态图：

###### 图要说明的问题：

该图描述了参与众筹的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/36.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户进入众筹项目页面，系统显示众筹项目，用户选择项目，系统显示项目介绍，用户可以重新选择，则返回上一步流程。用户输入众筹金额，系统生成订单，用户完成支付，众筹结束，进程结束。

#### 16.投诉众筹项目

##### 顺序图：

###### 图要说明的问题：

该图描述了投诉众筹项目的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/37.png)

###### OCL约束：

操作： 

投诉众筹项目 ComplaintProject(ProjectId)

引用： 

制作系统

前置条件： 

有一个投诉t1存在

有一个众筹项目列表实例t2存在

t2与t1建立了关联

ProjectId可以与一个项目实例建立联系

后置条件: 

创建了一个投诉实例t3

t3和t2建立了关联

t3.ProjectId被置为参数ProjectId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、众筹历史订单、订单内容、众筹项目列表、众筹项目、投诉表

用户打开历史订单，系统显示订单历史，用户选择其中一个唤醒系统，系统生成投诉表，用户填写完毕，投诉完成；用户打开众筹项目页面，选择其中一个项目，唤醒系统，系统生成投诉表，用户填写完毕，投诉完成。

两个投诉方式不冲突，可以单独或同时存在。

###### 图要说明的问题：

该图描述了投诉众筹项目的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/38.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户有两种可选投诉方式，一是打开众筹项目主页、选择项目，浏览项目内容，之后填写投诉单，查看投诉单内容，投诉提交，进程结束；二是打开历史订单，选择订单，查看订单信息，填写投诉单，投诉提交，进程结束。

如果投诉次数在一定时间内超过系统限额，投诉提交将被拒绝。

#### 17.发布众筹

##### 顺序图：

###### 图要说明的问题：

该图描述了发布众筹的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/39.png)

###### OCL约束：

操作： 

发布众筹项目 PublishProject(UserId,ProjectId,Content)

引用： 

制作系统

前置条件： 

有一个发布项目t1存在

有一个众筹项目列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

ProjectId可以与一个项目实例建立联系

后置条件: 

创建了一个发布实例t3

t3和t2建立了关联

t3.UserId被置为UserId

t3.ProjectId被置为参数ProjectId

t3.Content被置为参数Content

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含游戏制作商、众筹项目单、系统

用户填写众筹发布表单，并提交给系统，系统返回操作结果。

##### 状态图：

###### 图要说明的问题：

该图描述了发布众筹的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/40.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，游戏制作商发出请求，填写表单，系统显示表单填写完毕内容，游戏制作商 提交表单，进程结束。

申请表单可重复提交，但是如果提交次数超过了系统限额，提交会被拒绝。

#### 18.审核众筹项目

##### 顺序图：

###### 图要说明的问题：

该图描述了审核众筹项目的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/41.png)

###### OCL约束：

操作： 

审核众筹项目 ExamineProject(UserId,ProjectId)

引用： 

制作系统

前置条件： 

有一个审核项目t1存在

有一个众筹项目列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

UserId可以与一个用户实例建立联系

ProjectId可以与一个项目实例建立联系

后置条件: 

创建了一个审核实例t3

t3和t2建立了关联

t3.UserId被置为UserId

t3.ProjectId被置为参数ProjectId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象为管理员、待审核众筹项目列表、游戏制作人信息、众筹项目列表

管理员对系统发起审核需求，系统从待审核游戏待审核众筹项目列表中返回一个众筹项目实例以及游戏制作人信息实例，管理员完成审核。

##### 状态图：

###### 图要说明的问题：

该图描述了审核众筹项目的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/42.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员开始审核众筹项目，首先查看待审核众筹项目队列，选择要审核的众筹项目，之后系统展示待审核的MOD的具体内容，如果管理员审核通过，则系统展示众筹项目发起者游戏制作人信息，反之则审核失败，进程结束。如果游戏制作人信息审核通过，则众筹项目审核通过，进程结束，反之审核失败，进程结束。

#### 19.上传游戏MOD

##### 顺序图：

###### 图要说明的问题：

该图描述了上传游戏MOD的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/43.png)

###### OCL约束：

操作： 

上传MOD UploadMod(UserId,MODId,Content)

引用： 

制作系统

前置条件： 

有一个上传项目t1存在

有一个MOD列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

MODId可以与一个MOD实例建立联系

后置条件: 

创建了一个发布实例t3

t3和t2建立了关联

t3.UserId被置为UserId

t3.MODId被置为参数MODId

t3.Content被置为参数Content

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象为用户、MOD包、MOD列表

管理员将MOD价格、MOD内容捆绑上传，生成MOD包，上传至系统MOD列表，系统返回操作结果。

##### 状态图：

###### 图要说明的问题：

该图描述了上传游戏MOD的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/44.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户打包MOD内容，系统显示MOD包包含的内容，用户将MOD包上传至平台，系统显示上传后更新的结果，进程结束。

如果MOD包包含不合法规的内容，上传将失败，进程结束。

#### 20.投诉游戏内容

##### 顺序图：

###### 图要说明的问题：

该图描述了投诉游戏内容的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/45.png)

###### OCL约束：

操作： 

投诉游戏内容 ComplaintGame(GameId)

引用： 

销售系统

前置条件： 

有一个投诉t1存在

有一个游戏列表实例t2存在

t2与t1建立了关联

GameId可以与一个游戏实例建立联系

后置条件: 

创建了一个投诉实例t3

t3和t2建立了关联

t3.GameId被置为参数GameId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、订单列表、订单内容、游戏商城、游戏、投诉表

用户打开历史订单，系统显示订单历史，用户选择其中一个唤醒系统，系统生成投诉表，用户填写完毕，投诉完成；用户打开游戏商城，选择其中一个游戏，唤醒系统，系统生成投诉表，用户填写完毕，投诉完成。

两个投诉方式不冲突，可以单独或同时存在。

##### 状态图：

###### 图要说明的问题：

该图描述了投诉游戏内容的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/46.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户有两种可选投诉方式，一是打开游戏商城、选择游戏，浏览游戏内容，之后填写投诉单，查看投诉单内容，投诉提交，进程结束；二是打开历史订单，选择订单，查看订单信息，填写投诉单，投诉提交，进程结束。

如果投诉次数在一定时间内超过系统限额，投诉提交将被拒绝。

#### 21.投诉MOD内容

##### 顺序图：

###### 图要说明的问题：

该图描述了投诉MOD内容的详细顺序图

图本身：

###### ![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/47.png)

###### OCL约束：

操作： 

投诉MOD内容 ComplaintMOD(MODId)

引用： 

销售系统

前置条件： 

有一个投诉t1存在

有一个游戏MOD列表实例t2存在

t2与t1建立了关联

MODId可以与一个游戏MOD实例建立联系

后置条件: 

创建了一个投诉实例t3

t3和t2建立了关联

t3.MODId被置为参数MODId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包含用户、订单列表、订单内容、游戏商城、游戏、游戏MOD、投诉表

用户打开历史订单，系统显示MOD订单历史，用户选择其中一个唤醒系统，系统生成投诉表，用户填写完毕，投诉完成；用户打开商城，选择其中一个游戏，系统显示游戏相关页面，用户选择一个MOD，唤醒系统，系统生成投诉表，用户填写完毕，投诉完成。

两个投诉方式不冲突，可以单独或同时存在。

##### 状态图：

###### 图要说明的问题：

该图描述了投诉MOD内容的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/48.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，用户有两种可选投诉方式，一是打开游戏商城、选择游戏，浏览游戏内容，然后选择MOD，浏览MOD内容，之后填写投诉单，查看投诉单内容，投诉提交，进程结束；二是打开历史订单，选择订单，查看订单信息，填写投诉单，投诉提交，进程结束。

如果投诉次数在一定时间内超过系统限额，投诉提交将被拒绝。

#### 22.分类MOD

##### 顺序图：

###### 图要说明的问题：

该图描述了分类MOD的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/49.png)

###### OCL约束： 

操作： 

MOD分类 MODClassfy(MODId,classfy_rule)

引用： 

销售系统

前置条件：

有一个待分类的游戏MOD实例t1存在 

有一个分类游戏MOD队列t3存在

t1和t3建立了关联

MODId可以和某个游戏MOD实例建立联系

classfy_rule可以和某个分类方法实例建立联系

有一个游戏MOD商城游戏列实例t4存在

后置条件: 

创建了一个游戏MOD实例t2

t2和t4建立了关联

t2.MODId被置为参数MODId

t2.classfy_rule被置为参数classfy_rule

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象为管理员、待分类MOD列表、MOD

管理员对系统发起分类需求，系统从待分类MOD列表中返回一个MOD实例，管理员完成分类。

##### 状态图：

###### 图要说明的问题：

该图描述了分类MOD的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/50.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员发出分类申请，系统返回待分类游戏MOD列表，管理员选择要分类的某个游戏MOD，设置分类算法，系统预展示分类结果，如果管理员确认，结果更新到商城，分类结束，如果管理员选择取消分类，则分类未成功，进程回到显示具体MOD界面的部分。

#### 23.审核MOD

##### 顺序图：

###### 图要说明的问题：

该图描述了审核MOD的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/51.png)

###### OCL约束： 

操作： 

审核MOD MODExamine(UserId, MODId)

引用： 

销售系统

前置条件：

有一个待审核的游戏MOD实例t1存在 

有一个审核游戏MOD队列t3存在

t1和t3建立了关联

UserId可以和某个游戏MOD制作商实例建立联系

有一个游戏MOD商城游戏列实例t4存在

后置条件: 

创建了一个游戏MOD实例t2

t2和t4建立了关联

t2.UserId被置为参数UserId

t2.MODId被置为参数MODId

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象为管理员、待审核MOD列表、MOD列表

管理员对系统发起审核需求，系统从待审核游戏MOD列表中返回一个游戏MOD实例，管理员完成审核。

##### 状态图：

###### 图要说明的问题：

该图描述了审核MOD的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/52.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，管理员开始审核游戏MOD，首先查看待审核游戏MOD队列，选择要审核的MOD，之后系统展示待审核的MOD的具体内容，如果管理员审核通过，则MOD上架商城，进程结束，如果审核不通过，则游戏MOD审核失败，进程结束。

### 玩家社交板块

#### 概念类图 

###### 图要说明的问题：

这张概念类图描述了FANTASTIC GAMES玩家社交板块的整体结构，包含了发帖、回帖、删帖三个用例中所涉及的所有概念类。

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/yonghu.png)

###### OCL语言 

针对发帖： 

{context Post

inv: textNum>0 and textNum<50 

inv: PostFrequency<5次/秒

pre validApproved: UserValid=true 

post AddToUserPostlist: 

PostNum=PostNum@pre+1  } 

针对删帖： 

{context Delete

inv: PostFrequency<5次/秒

pre validApproved: UserValid=true

post MinusUserPostlist: 

PostNum=PostNum@pre-1  } 

针对回帖： 

{context Repeat

inv: textNum>0 and textNum<50 

inv: PostFrequency<5次/秒

pre validApproved: UserValid=true

post RepeatPost: 

RepeatNum=RepeatNum@pre-1  } 

###### 图的简要介绍与内部需要注意的问题 ：

概念类图中各个概念类以及它们之间的关联和重要属性已经明确在图中标出。

需要注意的问题：

帖子由标题和回复信息组合而成。用户帖子列表由各个帖子聚合而成。

OCL约束：

（1）用户发帖内容字数范围大于0小于50，发帖频率不得高于5次每秒，发布成功后，用户帖子列表需要对应动态更新

（2）用户删帖频率不得高于5次每秒，删除成功后，用户帖子列表需要对应动态更新

（3）用户回帖内容字数范围大于0小于50，回帖频率不得高于5次每秒，发布成功后，用户帖子内容需要对应动态更新

#### 1.发帖

##### 顺序图：

###### 图要说明的问题：

该图描述了发帖的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/23.png)

###### OCL约束： 

操作： 

发布帖子 publish(UserId, Content)

引用： 

社区系统

前置条件： 

有一个待发布的帖子t1存在

有一个用户专属帖子列表实例t2存在

t2与t1建立了关联

UserId未处在封禁账户区间内

UserId可以和某个帖子列表实例建立联系

后置条件: 

创建了一个帖子实例t3

t3和t2建立了关联

t3.UserId被置为参数UserId

t3.Content被置为参数Content

###### 图的简要介绍与内部需要注意的问题：

图中涉及到的对象包括用户，系统帖子列表，用户帖子列表

用户发布一条帖子，系统会在审核通过后将帖子加入列表中，并将帖子加入用户专属帖子列表。操作完成以后，系统会展示操作结果给用户。

##### 状态图：

###### 图要说明的问题：

该图描述了发帖的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/24.png)

###### 图的简要介绍与内部需要注意的问题：

用户进入了社区，首先系统将展示社区页面，即为一个热门帖子列表。用户选择自己发帖，完成帖子内容以后提交发布，如果发布成功则结束进程，如果帖子内容或用户已被禁言，则发帖失败进程结束。

#### 2.删帖

##### 顺序图：

###### 图要说明的问题：

该图描述了删帖的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/25.png)

###### OCL约束： 

操作： 

删除帖子 delete(UserId, TipId)

引用： 

社区系统

前置条件： 

有一个待删除的帖子t1存在

有一个用户专属帖子列表实例t2存在

t2与t1建立了关联

UserId可以和某个帖子列表实例建立联系

后置条件: 

删除了t1

###### 图的简要介绍与内部需要注意的问题：

图中设计到的对象包括用户，系统帖子列表，用户帖子列表

##### 状态图：

###### 图要说明的问题：

该图描述了删帖的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/26.png)

###### 图的简要介绍与内部需要注意的问题：

开始进程，用户查看自己发布的帖子，系统将显示用户未删除的发布过的帖子的列表。用户选择待删除的帖子，点击删除，删除成功，进程结束。

#### 3.回帖

##### 顺序图：

###### 图要说明的问题：

该图描述了回帖的详细顺序图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/27.png)

###### OCL约束： 

操作： 

回复帖子 repeat(UserId1,UserId2，TipId，Content)

引用： 

社区系统

前置条件： 

有一个待添加的语句t1存在

有一个用户专属帖子列表实例t2存在

t2与t1建立了关联

UserId1未处在封禁账户区间内

TipId可以和某个用户帖子实例建立联系

UserId1可以和某个用户实例建立联系

UserId2可以和某个用户帖子列表建立联系

后置条件: 

创建了一个帖子实例t3

t3和t1建立了关联

t3.UserId1被置为参数UserId1

t3.UserId2被置为参数UserId2

t3.Content被置为参数Content

###### 图的简要介绍与内部需要注意的问题：

图中设计到的对象包括用户，系统帖子列表，用户帖子列表

用户在系统帖子列表中选择完帖子以后，回复想要添加的内容，添加成功后返回操作结果

##### 状态图：

###### 图要说明的问题：

该图描述了回帖的详细状态图

###### 图本身：

![](https://lililizi.oss-cn-beijing.aliyuncs.com/test/28.png)

###### 图的简要介绍与内部需要注意的问题：

进程开始，系统展示所有帖子列表，用户选择先要回复的帖子，系统将展示将被回复的帖子的内容，如果此时用户结束回帖或是该帖子被发帖人删除，则流程回到开始，回复完成后，系统展示更新后的帖子内容，进程结束，如果在回复内容时候，用户账户权限被限制则回帖失败，进程结束。

